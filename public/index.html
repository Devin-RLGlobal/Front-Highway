<!DOCTYPE html>
<html lang="en">
<head>
  <script type="text/javascript" src="//dl.frontapp.com/libs/plugin-sdk-1.8.1.min.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Front Plugin</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Front Plugin</h1>  
  <button id="move-email-btn">Quarantine Email</button>
  <div id="highway-data"></div>
  <script src="../src/front.js" type="module"></script>
  <script type="module">
    import { moveEmail } from '../src/front.js';
    window.addEventListener('highwayDataUpdated', (event) => {
      const data = event.detail;
      const filteredData = {
      email: data.emailSearch.email_search_result_category,
      email2: data.emailSearch.email_search_result_category,
      dot1: data.dotnums
    };

    const container = document.getElementById('highway-data');
    container.innerHTML = `<pre>${JSON.stringify(filteredData, null, 2)}</pre>`;
    });

    document.getElementById('move-email-btn').addEventListener('click', () => {
      moveEmail();
    });

  </script>
</body>
</html>
